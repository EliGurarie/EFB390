## ----setup, include=FALSE----------------------------------------------------------
knitr::opts_chunk$set(echo = TRUE)


## ----------------------------------------------------------------------------------
total.counts <- c(180,200,220)


## ----------------------------------------------------------------------------------
sum(total.counts)/length(total.counts)


## ----------------------------------------------------------------------------------
mean(total.counts)


## ----------------------------------------------------------------------------------
n <- length(total.counts)
counts.sd <- sqrt( (1/(n-1)) * sum( (total.counts - mean(total.counts))^2 ) )


## ----------------------------------------------------------------------------------
sd(total.counts)


## ----------------------------------------------------------------------------------
counts.se <- sd(total.counts)/sqrt(n)


## ----------------------------------------------------------------------------------
mean(total.counts) - 2*counts.se
mean(total.counts) + 2*counts.se


## ----------------------------------------------------------------------------------
transect.counts <- c(2,5,8,6,4)
transect.areas <- c(8,8,8,8,8)


## ----------------------------------------------------------------------------------
D.hat <- sum(transect.counts) / sum(transect.areas)
D.hat


## ----------------------------------------------------------------------------------
D.hat * 300


## ----------------------------------------------------------------------------------
k <- length(transect.counts)
a <- 8
A <- 300


## ----------------------------------------------------------------------------------
SE.transect <- (A/(k*a)) * sqrt( (sum(transect.counts^2) - 
                                    (sum(transect.counts)^2/k)) / 
                                   (k * k-1)  ) 

SE.transect


## ----------------------------------------------------------------------------------
D.hat * A


## ----------------------------------------------------------------------------------
D.hat*A - 2 * SE.transect
D.hat*A + 2 * SE.transect


## ----------------------------------------------------------------------------------
CirclesAndSquares <- read.csv("CirclesAndSquares.csv")


## ----------------------------------------------------------------------------------
CirclesAndSquares


## ----------------------------------------------------------------------------------
Shape <- CirclesAndSquares$Shape
Count <- CirclesAndSquares$Count


## ----------------------------------------------------------------------------------
table(Shape)


## ----------------------------------------------------------------------------------
(a_hh <- pi * 0.4^2)


## ----------------------------------------------------------------------------------
n.square <- sum(Shape=="Square")
n.circle <- sum(Shape=="Circle")
areas <- c(rep(1, n.square), rep(0.5, n.circle))
A <- 20*15


## ----------------------------------------------------------------------------------
A * sum(Count) / sum(areas)


## ----------------------------------------------------------------------------------
count.square <- Count[Shape == "Square"]
count.circle <- Count[Shape == "Circle"]

area.square <- 1
area.circle <- 0.5

Nhat.square <- sum(count.square) * A / (n.square * area.square)
Nhat.circle <- sum(count.circle) * A / (n.circle * area.circle)


## ----------------------------------------------------------------------------------
Nhat.square
Nhat.circle


## ----------------------------------------------------------------------------------
weight.square <- (n.square * area.square)/(n.square * area.square + n.circle * area.circle)

weight.circle <- (n.circle * area.circle)/(n.square * area.square + n.circle * area.circle)


## ----------------------------------------------------------------------------------
weight.square; weight.circle


## ----------------------------------------------------------------------------------
weight.square * Nhat.square + weight.circle * Nhat.circle

